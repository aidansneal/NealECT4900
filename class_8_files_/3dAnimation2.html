<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>A-Frame 3D Model Animations 2</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <!--We add the animation component here -->
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
</head>

<body>
  <!--We included cursor with "rayOrigin: mouse" so that to activate click events -->
  <a-scene cursor="rayOrigin: mouse">
    <a-assets>
      <!-- We preload 3d model as asset here. We reference to animatedModel.gltf file-->
      <a-asset-item id="myModel2" src="animatedModel.gltf"></a-asset-item>
    </a-assets>
    <!-- We give the id "Clickable" and increase the scale to 3 3 3 because animatedModel.gltf file is too small-->
    <!-- We also added exact name of the animation, i.e. animation-mixer="clip: Taunt" -->
    <a-entity id="clickable" gltf-model="#myModel2" scale="3 3 3" position="0 0 -6" rotation="0 0 0"
      animation-mixer="clip: Taunt"></a-entity>
      <!-- We created a box with id="myButton". It will servce as a button -->
    <a-box position="0 0 -4" color="red" id="myButton"></a-box>
  </a-scene>
</body>

<script>
  // We declare variables 
  var myScene = document.querySelector("a-scene");
  var myElement = myScene.querySelector("#clickable");
  var myBox = myScene.querySelector("#myButton");
  
  // We create onclick event
  myButton.addEventListener("click", function () {
    // We check, if myElement has attribute of animation-mixer and its property clip equals to "Taunt"
     
    if (myElement.getAttribute("animation-mixer").clip === 'Taunt') {
    // If yes, we change the value of clop to "Capoiera" and add crossFadeDuration (smooth transition between the animation clips)
      myElement.setAttribute("animation-mixer", "clip: Capoiera; crossFadeDuration:1;")
    } else {
    // else, we show clip's value as "Taunt" 
      myElement.setAttribute("animation-mixer", "clip: Taunt; crossFadeDuration:1")
    }

  })
</script>
</html>